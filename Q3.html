<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href="Q3.css"
    />
    <link rel="icon" href="data:," />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  </head>
  <body>

    <div class="header">
      <img id="head" src="Header.jpg" alt="QUANTA CHALLENGE">
    </div>


    <div class="nav">
      <a href="index.html">Home</a>
      <a href="Q1.html">Question 1</a>
      <a href="Q2.html">Question 2</a>
      <a href="Q3.html">Question 3</a>
      <a href="filler.html">Question 4 (22/01/25)</a>
      <a href="filer.html">Question 5 (25/01/25)</a>
      <a href="filler.html">Question 6 (29/01/25)</a>
    </div>

    <div class="Title">
      <h1>Question 2</h1>
    </div>

  
    <div class = "image">
        <img id="Question 3" src="Question 3.png" alt="Question 3">
    </div>


    <form  id="submission-form" action="https://script.google.com/macros/s/AKfycbzYeOJRqWcI2tEngEg2FuDXAIoESYyigIDk07_bfLYwGcy7qcNB-EpFxIHivPQNHALK/exec" method="post">

      <div class="field">
        <label class="label">Team</label>
        <div class="control">
          <input
            class="input"
            type="text"
            placeholder="Team name"
            name="Team"
            required
          />
        </div>
      </div> 

      <div class="field">
        <label class="label">Answer</label>
        <div class="control">
          <input
            class="input"
            type="number"
            step="any"
            placeholder="Enter your answer"
            name="Answer"
            required
          />
        </div>
      </div> 


      <div class="field is-grouped">
        <div class="control">
          <button class="button is-primary" type="submit" id="submit-button">
            Submit
          </button>
        </div>
      </div>

    </form>

    <div
      id="message"
      style="
        display: none;
        margin: 20px;
        font-weight: bold;
        color: green;
        padding: 8px;
        background-color: beige;
        border-radius: 4px;
        border-color: aquamarine;
      "
    ></div>

    <div class="footer">
      <i>
        Co-founders of the Quanta Challenge: Anita, Savarna and Pranav.
        Website desinged by Pranav.
        Challenge questions curated by Savarna and Anita.
      </i>
    </div>



    <script>
      // Define the correct answer
      const correctAnswer = 144; // Replace with your correct answer
    
      // Listen for form submission
      document.getElementById("submission-form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submission
    
        const form = e.target; // Get the form element
        const formData = new FormData(form); // Collect form data
    
        // Get the answer input value
        const enteredAnswer = parseFloat(formData.get("Answer"), 10); // Convert answer to an integer
    
        // Validate the answer
        if (enteredAnswer === correctAnswer) {
          // If the answer is correct, submit the form
          fetch(form.action, {
            method: "POST",
            body: formData,
          })
            .then((response) => response.json()) // Parse the JSON response
            .then((data) => {
              if (data.status === "success") {
                // Display success message
                const messageElement = document.getElementById("message");
                messageElement.style.display = "block";
                messageElement.style.color = "green";
                messageElement.style.fontFamily = "Roboto", "serif";
                messageElement.innerText = "Correct answer!";
              } else {
                // Display error message
                const messageElement = document.getElementById("message");
                messageElement.style.display = "block";
                messageElement.style.color = "red";
                messageElement.style.fontFamily = "Roboto", "serif";
                messageElement.innerText = `Error: ${data.message}`;
              }
            })
            .catch((error) => {
              // Handle network or other errors
              const messageElement = document.getElementById("message");
              messageElement.style.display = "block";
              messageElement.style.color = "red";
              messageElement.style.fontFamily = "Roboto", "serif";
              messageElement.innerText = `Error: ${error.message}`;
            });
        } else {
          // If the answer is incorrect, show an error message
          const messageElement = document.getElementById("message");
          messageElement.style.display = "block";
          messageElement.style.color = "red";
          messageElement.style.fontFamily = "Roboto", "serif";
          messageElement.innerText = "Incorrect answer. Please try again.";
        }
      });
    </script>
    
    



  </body>
</html>